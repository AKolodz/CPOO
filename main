import cv2

from NoiseGenerator import NoiseGenerator
from ParamCalculator import ParamCalculator
from WindowAligner import WindowAligner

inputImage = cv2.imread("ExamplePhantom.png", cv2.IMREAD_GRAYSCALE)
alignedImage = WindowAligner.align(inputImage)
noisedImage = NoiseGenerator.addGaussian(alignedImage, 0, 20)

cv2.namedWindow("Aligned", cv2.WINDOW_NORMAL)
cv2.imshow("Aligned", alignedImage)
cv2.namedWindow("Noised", cv2.WINDOW_NORMAL)
cv2.imshow("Noised", noisedImage)

snr = ParamCalculator.getSNR(alignedImage, (1100, 1100), (2000, 1600))
noisedSnr = ParamCalculator.getSNR(noisedImage, (1100, 1100), (2000, 1600))

cv2.waitKey(0)
cv2.destroyAllWindows()
